# Synkra AIOS é•¿æœŸè¿­ä»£ä¼˜åŒ–è®¡åˆ’

> **ç‰ˆæœ¬:** v1.0
> **åˆ›å»ºæ—¥æœŸ:** 2026-02-20
> **è§„åˆ’å‘¨æœŸ:** 2026-2027
> **ç›®æ ‡:** å°†æ–°ç”¨æˆ· 7 æ—¥ç•™å­˜ç‡ä» <20% æå‡åˆ° >50%
> **æ–‡æ¡£æ‰€æœ‰è€…:** @pm (Morgan)

---

## ğŸ“‹ ç›®å½•

1. [æ‰§è¡Œæ‘˜è¦](#æ‰§è¡Œæ‘˜è¦)
2. [æ ¸å¿ƒé—®é¢˜åˆ†æ](#æ ¸å¿ƒé—®é¢˜åˆ†æ)
3. [æŠ€æœ¯æ¶æ„è®¾è®¡](#æŠ€æœ¯æ¶æ„è®¾è®¡)
4. [å®æ–½è·¯çº¿å›¾](#å®æ–½è·¯çº¿å›¾)
5. [ä¾èµ–å…³ç³»](#ä¾èµ–å…³ç³»)
6. [å…³é”®æ–‡ä»¶æ¸…å•](#å…³é”®æ–‡ä»¶æ¸…å•)
7. [æˆåŠŸæŒ‡æ ‡](#æˆåŠŸæŒ‡æ ‡)
8. [é£é™©è¯„ä¼°ä¸ç¼“è§£](#é£é™©è¯„ä¼°ä¸ç¼“è§£)
9. [éªŒè¯æ–¹æ³•](#éªŒè¯æ–¹æ³•)
10. [ä¸‹ä¸€æ­¥è¡ŒåŠ¨](#ä¸‹ä¸€æ­¥è¡ŒåŠ¨)

---

## æ‰§è¡Œæ‘˜è¦

### é¡¹ç›®èƒŒæ™¯

Synkra AIOS æ˜¯ä¸€ä¸ª AI é©±åŠ¨çš„å…¨æ ˆå¼€å‘æ¡†æ¶ï¼Œå½“å‰ç‰ˆæœ¬ v4.2.13ã€‚è™½ç„¶æŠ€æœ¯æ¶æ„æˆç†Ÿï¼ˆå®Œå–„çš„åˆ†å±‚é…ç½®ã€å¥åº·æ£€æŸ¥ç³»ç»Ÿã€IDS å†³ç­–å¼•æ“ï¼‰ï¼Œä½†ç”¨æˆ·ä½“éªŒå­˜åœ¨æ˜æ˜¾ç—›ç‚¹ï¼Œå¯¼è‡´æ–°ç”¨æˆ·æµå¤±ç‡è¶…è¿‡ 60%ã€‚

### æ ¸å¿ƒç›®æ ‡

| æŒ‡æ ‡ | å½“å‰å€¼ | ç›®æ ‡å€¼ | æ—¶é—´æ¡†æ¶ |
|------|--------|--------|----------|
| æ–°ç”¨æˆ· 7 æ—¥ç•™å­˜ç‡ | <20% | >50% | H1 2026 |
| é¦–æ¬¡åŠŸèƒ½ä½¿ç”¨æ—¶é—´ | >30åˆ†é’Ÿ | <5åˆ†é’Ÿ | Q1 2026 |
| é”™è¯¯è‡ªåŠ©è§£å†³ç‡ | <40% | >70% | Q2 2026 |
| Story åˆ›å»ºæ—¶é—´ | >30åˆ†é’Ÿ | <15åˆ†é’Ÿ | Q2 2026 |

### ä¼˜åŒ–ç­–ç•¥

éµå¾ª **"CLI First â†’ Observability Second â†’ UI Third"** æ¶æ„åŸåˆ™ï¼Œåˆ† 4 ä¸ª Horizon æ¸è¿›å®æ–½ï¼š

- **Horizon 1 (H1 2026):** å¿«é€Ÿè‡´èƒœ - è§£å†³æœ€ç´§è¿«çš„ç”¨æˆ·ç—›ç‚¹
- **Horizon 2 (H2 2026):** ä½“éªŒæ·±åŒ– - æå‡åä½œæ•ˆç‡å’Œæ™ºèƒ½åŒ–
- **Horizon 3 (2027):** ç”Ÿæ€æ‰©å±• - æ„å»ºå¼€æ”¾ç”Ÿæ€ç³»ç»Ÿ

---

## æ ¸å¿ƒé—®é¢˜åˆ†æ

### ç”¨æˆ·ç—›ç‚¹çŸ©é˜µ

| ç—›ç‚¹ | å½“å‰çŠ¶æ€ | ä¸šåŠ¡å½±å“ | ä¼˜å…ˆçº§ |
|------|----------|----------|--------|
| **ä¸Šæ‰‹æ›²çº¿é™¡å³­** | æ— äº¤äº’å¼å¼•å¯¼ï¼Œéœ€é˜…è¯»å¤§é‡æ–‡æ¡£ | æµå¤±ç‡ >60% | P0 |
| **é…ç½®å¤æ‚åº¦é«˜** | 5å±‚é…ç½®ç³»ç»Ÿ (L1-L5) éš¾ä»¥ç†è§£ | é‡‡ç”¨ç‡ <30% | P0 |
| **ä»£ç†åä½œä¸é€æ˜** | æ— çŠ¶æ€è¿½è¸ªï¼ŒèŒè´£è¾¹ç•Œä¸æ¸… | å›¢é˜Ÿæ•ˆç‡é™ä½ | P1 |
| **Story ç®¡ç†åˆ†æ•£** | YAML + Markdown åˆ†ç¦»å­˜å‚¨ | è·Ÿè¸ªå›°éš¾ | P1 |
| **è¿›åº¦å¯è§æ€§å·®** | ç¼ºä¹æ•´ä½“é¡¹ç›®è¿›åº¦å¯è§†åŒ– | ç®¡ç†ç›²åŒº | P2 |
| **é”™è¯¯å¤„ç†ä¸å‹å¥½** | ä»…å®‰è£…æ¨¡å—æœ‰é”™è¯¯æ¨¡æ¿ | æŒ«è´¥æ„Ÿå¼º | P0 |
| **æ–‡æ¡£å¯å‘ç°æ€§** | éš¾ä»¥å¿«é€Ÿæ‰¾åˆ°æ‰€éœ€æ–‡æ¡£ | å­¦ä¹ æˆæœ¬é«˜ | P2 |

### æ ¹å› åˆ†æ

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     æ–°ç”¨æˆ·æµå¤±ç‡ >60%                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â”‚
         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â–¼                  â–¼                  â–¼
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚ ä¸Šæ‰‹å›°éš¾  â”‚      â”‚ é”™è¯¯æŒ«è´¥  â”‚      â”‚ é…ç½®æ··ä¹±  â”‚
   â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜
         â”‚                  â”‚                  â”‚
         â–¼                  â–¼                  â–¼
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚æ— å¼•å¯¼ç³»ç»Ÿ â”‚      â”‚é”™è¯¯ä¿¡æ¯   â”‚      â”‚5å±‚é…ç½®   â”‚
   â”‚æ— å¿«é€Ÿå¼€å§‹â”‚      â”‚æ™¦æ¶©éš¾æ‡‚   â”‚      â”‚æ— å‘å¯¼    â”‚
   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚æ— ä¿®å¤å»ºè®®â”‚      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## æŠ€æœ¯æ¶æ„è®¾è®¡

### Epic æ¦‚è§ˆ

| Epic | åç§° | Horizon | ä¼˜å…ˆçº§ | é¢„è®¡å·¥æ—¶ |
|------|------|---------|--------|----------|
| **D** | é”™è¯¯å¤„ç†ä¼˜åŒ– | H1 2026 | P0 | 40h |
| **A** | é™ä½ä¸Šæ‰‹é—¨æ§› | H1 2026 | P0 | 60h |
| **B** | ä»£ç†åä½œé€æ˜åŒ– | H1 2026 | P1 | 50h |
| **C** | Story ç”Ÿå‘½å‘¨æœŸç®¡ç† | H1 2026 | P1 | 55h |
| **G** | æ–‡æ¡£å¯å‘ç°æ€§ | H2 2026 | P2 | 35h |
| **E** | å·¥ä½œæµå¯è§†åŒ– | H2 2026 | P2 | 45h |
| **F** | æ™ºèƒ½è¾…åŠ©å¢å¼º | H2 2026 | P2 | 50h |
| **H** | é›†æˆä¸æ‰©å±• | 2027 | P3 | 80h |
| **I** | ä¼ä¸šçº§åä½œ | 2027 | P3 | 90h |

---

### Epic D: é”™è¯¯å¤„ç†ä¼˜åŒ– (æœ€é«˜ä¼˜å…ˆçº§)

**ç†ç”±:** æœ€é«˜ ROIï¼Œè§£å†³æ‰€æœ‰ç”¨æˆ·ç—›ç‚¹ï¼Œæ˜¯å…¶ä»– Epic çš„åŸºç¡€

#### æ–°å¢æ–‡ä»¶ç»“æ„

```
.aios-core/core/errors/
â”œâ”€â”€ index.js               # å…¥å£å¯¼å‡º
â”œâ”€â”€ base-error.js          # AIOSError åŸºç±»
â”œâ”€â”€ error-codes.yaml       # é”™è¯¯ä»£ç å®šä¹‰
â”œâ”€â”€ error-formatter.js     # æ ¼å¼åŒ–å™¨
â””â”€â”€ recovery-engine.js     # æ¢å¤å»ºè®®å¼•æ“
```

#### AIOSError åŸºç±»è®¾è®¡

```javascript
/**
 * AIOSError - ç»Ÿä¸€é”™è¯¯å¤„ç†åŸºç±»
 * @extends Error
 */
class AIOSError extends Error {
  /**
   * @param {string} code - é”™è¯¯ä»£ç  (å¦‚ 'CFG_001')
   * @param {string} message - æŠ€æœ¯é”™è¯¯æ¶ˆæ¯
   * @param {Object} options - é™„åŠ é€‰é¡¹
   * @param {string} options.category - é”™è¯¯ç±»åˆ« (CONFIG|AGENT|STORY|SYSTEM)
   * @param {string} options.severity - ä¸¥é‡ç¨‹åº¦ (CRITICAL|ERROR|WARNING|INFO)
   * @param {boolean} options.recoverable - æ˜¯å¦å¯æ¢å¤
   * @param {Array<string>} options.recoverySteps - æ¢å¤æ­¥éª¤
   * @param {string} options.docUrl - æ–‡æ¡£é“¾æ¥
   * @param {Object} options.context - é”™è¯¯ä¸Šä¸‹æ–‡
   */
  constructor(code, message, options = {}) {
    super(message);
    this.name = 'AIOSError';
    this.code = code;
    this.category = options.category || 'GENERAL';
    this.severity = options.severity || 'ERROR';
    this.recoverable = options.recoverable || false;
    this.recoverySteps = options.recoverySteps || [];
    this.docUrl = options.docUrl || null;
    this.context = options.context || {};
    this.timestamp = new Date().toISOString();

    // ä¿æŒæ­£ç¡®çš„å †æ ˆè·Ÿè¸ª
    Error.captureStackTrace(this, this.constructor);
  }

  /**
   * æ ¼å¼åŒ–ä¸ºç”¨æˆ·å‹å¥½æ¶ˆæ¯
   * @returns {Object} æ ¼å¼åŒ–åçš„é”™è¯¯å¯¹è±¡
   */
  toUserMessage() {
    return {
      code: this.code,
      title: this.getUserFriendlyTitle(),
      message: this.message,
      severity: this.severity,
      recoverable: this.recoverable,
      recoverySteps: this.recoverySteps,
      docUrl: this.docUrl,
    };
  }

  /**
   * æ ¼å¼åŒ–ä¸º JSON (ç”¨äº API)
   */
  toJSON() {
    return {
      error: true,
      code: this.code,
      category: this.category,
      severity: this.severity,
      message: this.message,
      recoverable: this.recoverable,
      context: this.context,
      timestamp: this.timestamp,
    };
  }
}
```

#### é”™è¯¯ä»£ç å®šä¹‰ (error-codes.yaml)

```yaml
# AIOS é”™è¯¯ä»£ç å®šä¹‰
# æ ¼å¼: {ç±»åˆ«}_{åºå·} å¦‚ CFG_001, AGT_002

metadata:
  version: "1.0.0"
  lastUpdated: "2026-02-20"

categories:
  CFG:
    name: Configuration
    description: é…ç½®ç›¸å…³é”™è¯¯
  AGT:
    name: Agent
    description: ä»£ç†ç›¸å…³é”™è¯¯
  STR:
    name: Story
    description: Story ç›¸å…³é”™è¯¯
  SYS:
    name: System
    description: ç³»ç»Ÿçº§é”™è¯¯
  IDS:
    name: IDS
    description: å¢é‡å†³ç­–ç³»ç»Ÿé”™è¯¯

codes:
  # é…ç½®é”™è¯¯ (CFG-*)
  CFG_001:
    code: "CFG_001"
    category: "CONFIG"
    severity: "ERROR"
    message: "Configuration file not found"
    userMessage: "é…ç½®æ–‡ä»¶æœªæ‰¾åˆ°"
    recoverable: true
    recoverySteps:
      - "è¿è¡Œ 'aios config init' åˆ›å»ºé»˜è®¤é…ç½®"
      - "æˆ–æ£€æŸ¥é…ç½®æ–‡ä»¶è·¯å¾„æ˜¯å¦æ­£ç¡®"
    docUrl: "https://docs.aios.dev/errors/CFG_001"

  CFG_002:
    code: "CFG_002"
    category: "CONFIG"
    severity: "ERROR"
    message: "Invalid YAML syntax in configuration"
    userMessage: "é…ç½®æ–‡ä»¶ YAML è¯­æ³•é”™è¯¯"
    recoverable: true
    recoverySteps:
      - "è¿è¡Œ 'aios doctor --fix' è‡ªåŠ¨ä¿®å¤"
      - "æ£€æŸ¥ YAML ç¼©è¿›å’Œæ ¼å¼"
    docUrl: "https://docs.aios.dev/errors/CFG_002"

  CFG_003:
    code: "CFG_003"
    category: "CONFIG"
    severity: "WARNING"
    message: "Configuration schema validation failed"
    userMessage: "é…ç½®é¡¹éªŒè¯å¤±è´¥"
    recoverable: true
    recoverySteps:
      - "æ£€æŸ¥é…ç½®é¡¹æ˜¯å¦ç¬¦åˆ schema å®šä¹‰"
      - "è¿è¡Œ 'aios config validate' æŸ¥çœ‹è¯¦æƒ…"

  # ä»£ç†é”™è¯¯ (AGT-*)
  AGT_001:
    code: "AGT_001"
    category: "AGENT"
    severity: "ERROR"
    message: "Agent not found: {agentId}"
    userMessage: "ä»£ç†ä¸å­˜åœ¨"
    recoverable: false
    recoverySteps:
      - "è¿è¡Œ 'aios agents list' æŸ¥çœ‹å¯ç”¨ä»£ç†"
      - "æ£€æŸ¥ä»£ç† ID æ‹¼å†™æ˜¯å¦æ­£ç¡®"
    docUrl: "https://docs.aios.dev/errors/AGT_001"

  AGT_002:
    code: "AGT_002"
    category: "AGENT"
    severity: "ERROR"
    message: "Agent activation failed"
    userMessage: "ä»£ç†æ¿€æ´»å¤±è´¥"
    recoverable: true
    recoverySteps:
      - "è¿è¡Œ 'aios doctor' æ£€æŸ¥ç³»ç»ŸçŠ¶æ€"
      - "æ£€æŸ¥ä»£ç†é…ç½®æ–‡ä»¶æ˜¯å¦å­˜åœ¨"
    docUrl: "https://docs.aios.dev/errors/AGT_002"

  AGT_003:
    code: "AGT_003"
    category: "AGENT"
    severity: "WARNING"
    message: "Agent permission denied"
    userMessage: "ä»£ç†æƒé™ä¸è¶³"
    recoverable: true
    recoverySteps:
      - "æ£€æŸ¥å½“å‰æ“ä½œæ˜¯å¦éœ€è¦å…¶ä»–ä»£ç†"
      - "è¿è¡Œ 'aios agents route \"{intent}\"' è·å–æ¨è"

  # Story é”™è¯¯ (STR-*)
  STR_001:
    code: "STR_001"
    category: "STORY"
    severity: "ERROR"
    message: "Story not found: {storyId}"
    userMessage: "Story ä¸å­˜åœ¨"
    recoverable: false
    recoverySteps:
      - "è¿è¡Œ 'aios story list' æŸ¥çœ‹æ‰€æœ‰ Story"
      - "æ£€æŸ¥ Story ID æ˜¯å¦æ­£ç¡®"

  STR_002:
    code: "STR_002"
    category: "STORY"
    severity: "ERROR"
    message: "Invalid story format"
    userMessage: "Story æ ¼å¼æ— æ•ˆ"
    recoverable: true
    recoverySteps:
      - "æ£€æŸ¥ Story æ–‡ä»¶æ ¼å¼æ˜¯å¦ç¬¦åˆæ¨¡æ¿"
      - "è¿è¡Œ 'aios story validate {storyId}' éªŒè¯"

  # ç³»ç»Ÿé”™è¯¯ (SYS-*)
  SYS_001:
    code: "SYS_001"
    category: "SYSTEM"
    severity: "CRITICAL"
    message: "AIOS installation corrupted"
    userMessage: "AIOS å®‰è£…å·²æŸå"
    recoverable: true
    recoverySteps:
      - "è¿è¡Œ 'aios doctor --fix' ä¿®å¤å®‰è£…"
      - "å¦‚é—®é¢˜æŒç»­ï¼Œé‡æ–°è¿è¡Œ 'npx aios-core install'"
    docUrl: "https://docs.aios.dev/errors/SYS_001"

  SYS_002:
    code: "SYS_002"
    category: "SYSTEM"
    severity: "ERROR"
    message: "Node.js version incompatible"
    userMessage: "Node.js ç‰ˆæœ¬ä¸å…¼å®¹"
    recoverable: true
    recoverySteps:
      - "å‡çº§ Node.js åˆ° v18 æˆ–æ›´é«˜ç‰ˆæœ¬"
      - "æ¨èä½¿ç”¨ LTS ç‰ˆæœ¬ (v20+)"
    docUrl: "https://docs.aios.dev/errors/SYS_002"
```

#### CLI å‘½ä»¤æ‰©å±•

```bash
# å¢å¼ºçš„ doctor å‘½ä»¤
aios doctor                         # å¿«é€Ÿå¥åº·æ£€æŸ¥ (ç°æœ‰)
aios doctor --full                  # å®Œæ•´è¯Šæ–­
aios doctor --fix                   # è‡ªåŠ¨ä¿®å¤
aios doctor --report                # ç”ŸæˆæŠ¥å‘Š

# æ–°å¢è¯Šæ–­å‘½ä»¤
aios diagnose <error-code>          # è¯Šæ–­ç‰¹å®šé”™è¯¯
aios diagnose --last                # è¯Šæ–­æœ€è¿‘ä¸€æ¬¡é”™è¯¯
aios fix <error-code>               # ä¿®å¤ç‰¹å®šé—®é¢˜
```

#### å¤ç”¨ç°æœ‰ä»£ç 

| ç°æœ‰ç»„ä»¶ | è·¯å¾„ | å¤ç”¨æ–¹å¼ |
|----------|------|----------|
| é”™è¯¯æ¨¡æ¿æ¨¡å¼ | `bin/utils/install-errors.js` | å‚è€ƒ formatErrorMessage ç­‰å‡½æ•° |
| è¯Šæ–­å¼•æ“ | `.aios-core/core/health-check/engine.js` | æ‰©å±•ä¸ºé€šç”¨è¯Šæ–­ |
| ä¿®å¤æœºåˆ¶ | `.aios-core/core/health-check/healers/` | é›†æˆåˆ° RecoveryEngine |

---

### Epic A: é™ä½ä¸Šæ‰‹é—¨æ§›

#### æ–°å¢æ–‡ä»¶ç»“æ„

```
.aios-core/core/onboarding/
â”œâ”€â”€ index.js
â”œâ”€â”€ tour-manager.js        # å¼•å¯¼æµç¨‹ç®¡ç†
â”œâ”€â”€ progress-tracker.js    # è¿›åº¦è¿½è¸ª (å¤ç”¨é…ç½®ç³»ç»Ÿ)
â””â”€â”€ templates/
    â”œâ”€â”€ first-run.tour.yaml
    â””â”€â”€ feature-tours/

.aios-core/cli/commands/quickstart/
â”œâ”€â”€ index.js               # aios quickstart å‘½ä»¤
â””â”€â”€ templates/             # é¢„è®¾æ¨¡æ¿
    â”œâ”€â”€ feature.yaml
    â”œâ”€â”€ bugfix.yaml
    â””â”€â”€ learning.yaml

.aios-core/cli/commands/tour/
â”œâ”€â”€ index.js               # aios tour å‘½ä»¤
â”œâ”€â”€ start.js
â”œâ”€â”€ resume.js
â””â”€â”€ reset.js
```

#### TourManager æ ¸å¿ƒç±»

```javascript
/**
 * TourManager - å¼•å¯¼æµç¨‹ç®¡ç†å™¨
 */
class TourManager {
  constructor(projectRoot, userProfile) {
    this.progressTracker = new ProgressTracker(projectRoot);
    this.templateLoader = new TourTemplateLoader();
    this.currentTour = null;
    this.currentStep = 0;
  }

  /**
   * å¼€å§‹å¼•å¯¼
   * @param {string} tourId - å¼•å¯¼ ID
   */
  async start(tourId) {
    const template = await this.templateLoader.load(tourId);
    this.currentTour = template;
    this.currentStep = 0;
    await this.progressTracker.save(tourId, { step: 0, started: true });
    return this.renderStep(0);
  }

  /**
   * æ¢å¤å¼•å¯¼
   */
  async resume() {
    const progress = await this.progressTracker.load();
    if (progress) {
      this.currentTour = await this.templateLoader.load(progress.tourId);
      this.currentStep = progress.step;
      return this.renderStep(progress.step);
    }
    return null;
  }

  /**
   * å®Œæˆå½“å‰æ­¥éª¤
   */
  async completeStep(stepId) {
    this.currentStep++;
    await this.progressTracker.save(this.currentTour.id, {
      step: this.currentStep,
      completedSteps: [...this.progressTracker.data.completedSteps, stepId]
    });

    if (this.currentStep >= this.currentTour.steps.length) {
      await this.complete();
      return { completed: true };
    }
    return this.renderStep(this.currentStep);
  }

  /**
   * è·å–ä¸Šä¸‹æ–‡ç›¸å…³å¸®åŠ©
   */
  getContextualHelp(currentContext) {
    // åŸºäºå½“å‰æ–‡ä»¶ã€å‘½ä»¤ç­‰ä¸Šä¸‹æ–‡æä¾›å¸®åŠ©
  }
}
```

#### é¦–æ¬¡è¿è¡Œå¼•å¯¼æ¨¡æ¿ (first-run.tour.yaml)

```yaml
id: first-run
title: "æ¬¢è¿ä½¿ç”¨ AIOS"
description: "5 åˆ†é’Ÿå¿«é€Ÿäº†è§£ AIOS æ ¸å¿ƒåŠŸèƒ½"
estimatedTime: "5 min"

steps:
  - id: welcome
    title: "æ¬¢è¿"
    type: info
    content: |
      ğŸ‘‹ æ¬¢è¿ä½¿ç”¨ Synkra AIOS!

      AIOS æ˜¯ä¸€ä¸ª AI é©±åŠ¨çš„å¼€å‘æ¡†æ¶ï¼Œå¸®åŠ©æ‚¨ï¼š
      â€¢ ä½¿ç”¨ä¸“ä¸šåŒ– AI ä»£ç†åä½œå¼€å‘
      â€¢ é€šè¿‡ Story é©±åŠ¨çš„å¼€å‘æµç¨‹
      â€¢ è‡ªåŠ¨åŒ–è´¨é‡ä¿è¯

      è®©æˆ‘ä»¬èŠ± 5 åˆ†é’Ÿäº†è§£ä¸€ä¸‹æ ¸å¿ƒæ¦‚å¿µã€‚
    action:
      type: confirm
      label: "å¼€å§‹æ•™ç¨‹"

  - id: agents
    title: "ä»£ç†ç³»ç»Ÿ"
    type: interactive
    content: |
      ğŸ¤– AIOS ä½¿ç”¨ä¸“ä¸šåŒ–çš„ AI ä»£ç†æ¥å®Œæˆä¸åŒä»»åŠ¡ï¼š

      | ä»£ç† | è§’è‰² | ä½¿ç”¨åœºæ™¯ |
      |------|------|----------|
      | @dev | å¼€å‘è€… | ç¼–å†™ä»£ç  |
      | @qa | è´¨é‡ä¿è¯ | æµ‹è¯•å®¡æŸ¥ |
      | @architect | æ¶æ„å¸ˆ | ç³»ç»Ÿè®¾è®¡ |
      | @pm | äº§å“ç»ç† | éœ€æ±‚ç®¡ç† |

      è¯•è¯•çœ‹ï¼š
    action:
      type: command
      command: "aios agents list"
      label: "æŸ¥çœ‹æ‰€æœ‰ä»£ç†"

  - id: stories
    title: "Story é©±åŠ¨å¼€å‘"
    type: interactive
    content: |
      ğŸ“ AIOS ä½¿ç”¨ Story æ¥ç®¡ç†å¼€å‘ä»»åŠ¡ã€‚

      æ¯ä¸ª Story åŒ…å«ï¼š
      â€¢ éœ€æ±‚æè¿°
      â€¢ ä»»åŠ¡æ¸…å•
      â€¢ éªŒæ”¶æ ‡å‡†
      â€¢ ä¸Šä¸‹æ–‡ä¿¡æ¯

      è®©æˆ‘ä»¬çœ‹çœ‹ç°æœ‰çš„ Storyï¼š
    action:
      type: command
      command: "aios story list"
      label: "æŸ¥çœ‹ Story åˆ—è¡¨"

  - id: quickstart
    title: "å¿«é€Ÿå¼€å§‹"
    type: interactive
    content: |
      ğŸš€ å‡†å¤‡å¥½å¼€å§‹äº†å—ï¼Ÿ

      æ‚¨å¯ä»¥ï¼š
      1. åˆ›å»ºä¸€ä¸ªæ–°çš„ Storyï¼šaios story create
      2. å¼€å§‹å¼€å‘ä»»åŠ¡ï¼š@dev *develop
      3. è¿è¡Œè¯Šæ–­æ£€æŸ¥ï¼šaios doctor

      æ¨èæ‚¨çš„ç¬¬ä¸€ä¸ªå‘½ä»¤ï¼š
    action:
      type: command
      command: "aios quickstart feature"
      label: "å¼€å§‹ç¬¬ä¸€ä¸ªåŠŸèƒ½"

  - id: complete
    title: "æ•™ç¨‹å®Œæˆï¼"
    type: info
    content: |
      ğŸ‰ æ­å–œï¼æ‚¨å·²å®Œæˆ AIOS å¿«é€Ÿå…¥é—¨ã€‚

      æ¥ä¸‹æ¥ï¼š
      â€¢ æŸ¥çœ‹ aios --help äº†è§£æ‰€æœ‰å‘½ä»¤
      â€¢ é˜…è¯» docs/getting-started.md æ·±å…¥äº†è§£
      â€¢ åŠ å…¥ç¤¾åŒºè®¨è®ºï¼šdiscord.gg/aios

      ç¥æ‚¨å¼€å‘æ„‰å¿«ï¼
    action:
      type: complete
```

#### CLI å‘½ä»¤

```bash
aios quickstart                    # äº¤äº’å¼å¿«é€Ÿå¼€å§‹
aios quickstart feature            # å¼€å§‹åŠŸèƒ½å¼€å‘æµç¨‹
aios quickstart bugfix             # å¼€å§‹ Bug ä¿®å¤æµç¨‹
aios quickstart learning           # å­¦ä¹ æ¨¡å¼

aios tour                          # å¯åŠ¨é»˜è®¤å¼•å¯¼
aios tour first-run                # å¯åŠ¨ç‰¹å®šå¼•å¯¼
aios tour --resume                 # æ¢å¤å¼•å¯¼
aios tour --reset                  # é‡ç½®è¿›åº¦

aios config wizard                 # æ™ºèƒ½é…ç½®å‘å¯¼
aios config wizard --preset=react  # ä½¿ç”¨é¢„è®¾æ¨¡æ¿
```

---

### Epic B: ä»£ç†åä½œé€æ˜åŒ–

#### æ–°å¢æ–‡ä»¶ç»“æ„

```
.aios-core/core/agent-state/
â”œâ”€â”€ index.js
â”œâ”€â”€ state-manager.js       # çŠ¶æ€ç®¡ç†å™¨
â”œâ”€â”€ activity-tracker.js    # æ´»åŠ¨è¿½è¸ª
â”œâ”€â”€ router.js              # æ™ºèƒ½è·¯ç”± (å¤ç”¨ IDS å¼•æ“)
â””â”€â”€ collaboration-log.js   # åä½œæ—¥å¿—

.aios-core/cli/commands/agents/
â”œâ”€â”€ index.js               # agents å‘½ä»¤å…¥å£
â”œâ”€â”€ status.js              # aios agents status
â”œâ”€â”€ route.js               # aios agents route
â””â”€â”€ history.js             # aios agents history

.aios-core/data/agent-sessions/
â””â”€â”€ {agent-id}/
    â”œâ”€â”€ state.json         # å½“å‰çŠ¶æ€
    â”œâ”€â”€ activity.log       # æ´»åŠ¨æ—¥å¿—
    â””â”€â”€ handoffs.json      # äº¤æ¥è®°å½•
```

#### AgentStateManager æ ¸å¿ƒç±»

```javascript
/**
 * AgentStateManager - ä»£ç†çŠ¶æ€ç®¡ç†å™¨
 */
class AgentStateManager {
  constructor(projectRoot) {
    this.storage = new AgentStateStorage(projectRoot);
    this.agents = this.loadAgentDefinitions();
  }

  /**
   * æ›´æ–°ä»£ç†çŠ¶æ€ (ç”± unified-activation-pipeline è°ƒç”¨)
   */
  async updateState(agentId, state) {
    const currentState = await this.storage.load(agentId);
    const newState = {
      ...currentState,
      ...state,
      lastActivity: new Date().toISOString(),
    };
    await this.storage.save(agentId, newState);
  }

  /**
   * è·å–ä»£ç†çŠ¶æ€
   */
  async getStatus(agentId) {
    const state = await this.storage.load(agentId);
    const definition = this.agents[agentId];
    return {
      id: agentId,
      name: definition.name,
      icon: definition.icon,
      status: this.calculateStatus(state),
      currentTask: state?.currentTask,
      lastActivity: state?.lastActivity,
      dependencies: await this.getDependencies(agentId),
      blockers: state?.blockers || [],
      capabilities: definition.capabilities,
      restrictions: definition.restrictions,
    };
  }

  /**
   * è·å–æ‰€æœ‰ä»£ç†çŠ¶æ€
   */
  async getAllAgentStates() {
    const states = {};
    for (const agentId of Object.keys(this.agents)) {
      states[agentId] = await this.getStatus(agentId);
    }
    return states;
  }
}
```

#### AgentRouter æ™ºèƒ½è·¯ç”±

```javascript
/**
 * AgentRouter - æ™ºèƒ½è·¯ç”±å™¨
 * å¤ç”¨ IDS IncrementalDecisionEngine è¿›è¡Œæ„å›¾åˆ†æ
 */
class AgentRouter {
  constructor(idsEngine, agentRegistry) {
    this.idsEngine = idsEngine;
    this.agentRegistry = agentRegistry;
    this.intentMapping = this.buildIntentMapping();
  }

  /**
   * åŸºäºç”¨æˆ·æ„å›¾æ¨èä»£ç†
   * @param {string} userIntent - ç”¨æˆ·æ„å›¾æè¿°
   * @returns {Object} æ¨èç»“æœ
   */
  async recommendAgent(userIntent) {
    // 1. ä½¿ç”¨ IDS å¼•æ“åˆ†ææ„å›¾
    const analysis = await this.idsEngine.analyze(userIntent, {
      context: 'agent-routing'
    });

    // 2. åŒ¹é…ä»£ç†èƒ½åŠ›
    const matches = this.matchAgents(analysis.keywords);

    // 3. è®¡ç®—æ¨èåˆ†æ•°
    const recommendations = matches.map(match => ({
      agent: match.agent,
      score: match.score,
      reason: this.generateReason(match),
      alternatives: match.alternatives,
    }));

    return {
      primary: recommendations[0],
      alternatives: recommendations.slice(1, 3),
      confidence: recommendations[0]?.score || 0,
    };
  }

  /**
   * æ„å›¾å…³é”®è¯æ˜ å°„
   */
  buildIntentMapping() {
    return {
      'implement': { agent: 'dev', weight: 0.9 },
      'code': { agent: 'dev', weight: 0.8 },
      'develop': { agent: 'dev', weight: 0.9 },
      'fix': { agent: 'dev', weight: 0.7 },
      'bug': { agent: 'qa', weight: 0.8 },
      'test': { agent: 'qa', weight: 0.9 },
      'review': { agent: 'qa', weight: 0.8 },
      'architecture': { agent: 'architect', weight: 0.95 },
      'design': { agent: 'architect', weight: 0.7 },
      'requirement': { agent: 'pm', weight: 0.85 },
      'story': { agent: 'po', weight: 0.8 },
      'deploy': { agent: 'devops', weight: 0.9 },
      'push': { agent: 'devops', weight: 0.95 },
      'database': { agent: 'data-engineer', weight: 0.9 },
      'ux': { agent: 'ux-design-expert', weight: 0.95 },
    };
  }
}
```

#### CLI å‘½ä»¤

```bash
# ä»£ç†çŠ¶æ€
aios agents status                  # æ‰€æœ‰ä»£ç†çŠ¶æ€æ¦‚è§ˆ
aios agents status @dev             # ç‰¹å®šä»£ç†è¯¦æƒ…
aios agents status --json           # JSON è¾“å‡º

# æ™ºèƒ½è·¯ç”±
aios agents route "implement auth"  # æ„å›¾è·¯ç”±
aios agents route "fix login bug"   # è·å–æ¨èä»£ç†

# åä½œå†å²
aios agents history                 # å…¨éƒ¨åä½œå†å²
aios agents history @dev            # ç‰¹å®šä»£ç†å†å²
aios agents handoff @dev @qa        # è®°å½•ä»£ç†äº¤æ¥
```

#### çŠ¶æ€è¾“å‡ºç¤ºä¾‹

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ’» @dev - Dex (Full Stack Developer)            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Status:         âœ… Available                    â”‚
â”‚ Last Activity:  2 minutes ago                   â”‚
â”‚ Current Task:   STORY-42.3 (ç”¨æˆ·è®¤è¯)           â”‚
â”‚ Progress:       â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘ 80%                  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Dependencies:                                   â”‚
â”‚   @architect (å®¡æ ¸ä¸­) - OAuth æ¶æ„è®¾è®¡          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Capabilities:                                   â”‚
â”‚   âœ“ Code Implementation                         â”‚
â”‚   âœ“ Testing                                     â”‚
â”‚   âœ“ Refactoring                                 â”‚
â”‚   âœ— Git Push (requires @devops)                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

### Epic C: Story ç”Ÿå‘½å‘¨æœŸç®¡ç†

#### æ–°å¢æ–‡ä»¶ç»“æ„

```
.aios-core/core/story-lifecycle/
â”œâ”€â”€ index.js
â”œâ”€â”€ story-manager.js       # Story CRUD
â”œâ”€â”€ progress-analyzer.js   # è¿›åº¦åˆ†æ (è§£æ checkbox)
â”œâ”€â”€ dependency-resolver.js # ä¾èµ–è§£æ
â””â”€â”€ template-engine.js     # æ¨¡æ¿å¼•æ“ (æ‰©å±•ç°æœ‰)

.aios-core/cli/commands/story/
â”œâ”€â”€ index.js               # story å‘½ä»¤å…¥å£
â”œâ”€â”€ list.js                # åˆ—è¡¨è§†å›¾
â”œâ”€â”€ create.js              # åˆ›å»º Story
â”œâ”€â”€ show.js                # æ˜¾ç¤ºè¯¦æƒ…
â”œâ”€â”€ progress.js            # è¿›åº¦è¿½è¸ª
â”œâ”€â”€ update.js              # æ›´æ–° Story
â””â”€â”€ visualize.js           # ä¾èµ–å¯è§†åŒ–

.aios-core/templates/stories/
â”œâ”€â”€ feature.yaml           # Feature æ¨¡æ¿
â”œâ”€â”€ bug.yaml               # Bug æ¨¡æ¿
â”œâ”€â”€ refactor.yaml          # Refactor æ¨¡æ¿
â””â”€â”€ spike.yaml             # Spike æ¨¡æ¿
```

#### ç»Ÿä¸€ Story æ•°æ®æ¨¡å‹

```yaml
# story-{id}.yaml - ç»Ÿä¸€ Story æ ¼å¼
id: STORY-42
title: Implement User Authentication
type: feature  # feature | bug | refactor | spike
status: in-progress  # draft | ready-for-dev | in-progress | blocked | ready-for-review | done
epic: EPIC-A
sprint: SPRINT-3

# å…ƒæ•°æ®
metadata:
  created: 2026-02-15T10:00:00Z
  updated: 2026-02-20T14:30:00Z
  author: @pm
  assignee: @dev

# è¿›åº¦è¿½è¸ª
progress:
  total_tasks: 8
  completed_tasks: 5
  estimated_hours: 16
  logged_hours: 12
  completion_percentage: 62.5

# ä»»åŠ¡æ¸…å• (è‡ªåŠ¨åŒæ­¥ markdown checkbox)
tasks:
  - id: T1
    title: Design auth flow
    status: done
    assignee: @architect
    completed_at: 2026-02-16T10:00:00Z
  - id: T2
    title: Implement API
    status: in-progress
    assignee: @dev
  - id: T3
    title: Write tests
    status: pending
    assignee: @qa

# ä¾èµ–å…³ç³»
dependencies:
  blocks: [STORY-43, STORY-44]
  blocked_by: [STORY-41]

# ä¸Šä¸‹æ–‡å¿«ç…§
context:
  prd_ref: docs/prd/auth.md
  arch_ref: docs/architecture/auth-flow.md
  related_files:
    - src/auth/
    - src/middleware/auth.ts

# æ£€æŸ¥ç‚¹
checkpoints:
  - timestamp: 2026-02-20T10:00:00Z
    event: Development started
    agent: @dev
    note: "Starting implementation after architecture review"
  - timestamp: 2026-02-18T15:00:00Z
    event: Architecture approved
    agent: @architect

# éªŒæ”¶æ ‡å‡†
acceptance_criteria:
  - "User can login with email/password"
  - "OAuth 2.0 integration works"
  - "Session management implemented"
  - "Tests pass with >80% coverage"
```

#### ProgressAnalyzer æ ¸å¿ƒç±»

```javascript
/**
 * ProgressAnalyzer - è¿›åº¦åˆ†æå™¨
 * è‡ªåŠ¨è§£æ Markdown checkbox å¹¶è®¡ç®—è¿›åº¦
 */
class ProgressAnalyzer {
  /**
   * è§£æ Markdown ä¸­çš„ checkbox
   * @param {string} content - Markdown å†…å®¹
   * @returns {Object} è§£æç»“æœ
   */
  parseCheckboxes(content) {
    const lines = content.split('\n');
    const tasks = [];
    let total = 0;
    let completed = 0;

    for (const line of lines) {
      const checkedMatch = line.match(/^- \[x\]\s+(.+)$/);
      const uncheckedMatch = line.match(/^- \[ \]\s+(.+)$/);

      if (checkedMatch) {
        tasks.push({ title: checkedMatch[1], status: 'done' });
        total++;
        completed++;
      } else if (uncheckedMatch) {
        tasks.push({ title: uncheckedMatch[1], status: 'pending' });
        total++;
      }
    }

    return {
      tasks,
      total,
      completed,
      percentage: total > 0 ? Math.round((completed / total) * 100) : 0,
    };
  }

  /**
   * é¢„ä¼°å‰©ä½™æ—¶é—´
   * @param {Object} story - Story å¯¹è±¡
   * @param {Object} velocityData - å†å²é€Ÿåº¦æ•°æ®
   */
  estimateRemaining(story, velocityData) {
    const remainingTasks = story.progress.total_tasks - story.progress.completed_tasks;
    const avgTimePerTask = velocityData?.avgTimePerTask || 2; // é»˜è®¤ 2 å°æ—¶
    const estimatedHours = remainingTasks * avgTimePerTask;

    return {
      remainingTasks,
      estimatedHours,
      confidence: velocityData ? 'high' : 'low',
    };
  }

  /**
   * æ£€æµ‹é˜»å¡é£é™©
   */
  detectBlockerRisk(story) {
    const risks = [];

    // æ£€æŸ¥ä¾èµ–æ˜¯å¦å®Œæˆ
    if (story.dependencies.blocked_by?.length > 0) {
      risks.push({
        type: 'dependency',
        severity: 'high',
        message: `Blocked by ${story.dependencies.blocked_by.length} stories`,
      });
    }

    // æ£€æŸ¥é•¿æ—¶é—´æ— æ›´æ–°
    const lastUpdate = new Date(story.metadata.updated);
    const daysSinceUpdate = (Date.now() - lastUpdate.getTime()) / (1000 * 60 * 60 * 24);
    if (daysSinceUpdate > 3) {
      risks.push({
        type: 'stale',
        severity: 'medium',
        message: `No updates for ${Math.floor(daysSinceUpdate)} days`,
      });
    }

    return risks;
  }
}
```

#### CLI å‘½ä»¤

```bash
# Story åˆ—è¡¨
aios story list                     # åˆ—å‡ºæ‰€æœ‰ Story
aios story list --status=in-progress
aios story list --epic=EPIC-A
aios story list --assignee=@dev

# Story åˆ›å»º
aios story create                   # äº¤äº’å¼åˆ›å»º
aios story create --template=feature
aios story create --title="..." --type=bug

# Story è¯¦æƒ…
aios story show STORY-42            # æ˜¾ç¤ºè¯¦æƒ…
aios story show STORY-42 --full     # å®Œæ•´ä¿¡æ¯

# è¿›åº¦è¿½è¸ª
aios story progress STORY-42        # è¿›åº¦åˆ†æ
aios story progress STORY-42 --watch # å®æ—¶ç›‘æ§

# ä¾èµ–å¯è§†åŒ–
aios story visualize                # ä¾èµ–å›¾
aios story visualize --type=tree    # æ ‘å½¢è§†å›¾
aios story visualize --output=flowchart.png

# æ£€æŸ¥ç‚¹
aios story checkpoint STORY-42 "Started implementation"
aios story history STORY-42         # æŸ¥çœ‹å†å²
```

---

## å®æ–½è·¯çº¿å›¾

### Phase 1: å¿«é€Ÿè‡´èƒœ (Q1 2026, 3-5æœˆ)

| Sprint | å‘¨æ¬¡ | Epic | æ ¸å¿ƒä»»åŠ¡ | é¢„è®¡å·¥æ—¶ |
|--------|------|------|----------|----------|
| **S1** | 3æœˆ W1-2 | D | AIOSError åŸºç±» + ErrorCodes å®šä¹‰ | 16h |
| **S2** | 3æœˆ W3-4 | D+A | doctor --fix å¢å¼º + TourManager æ¥å£ | 18h |
| **S3** | 4æœˆ W1-2 | A | quickstart å‘½ä»¤ + é…ç½®å‘å¯¼ | 20h |
| **S4** | 4æœˆ W3-4 | B | AgentStateManager + agents status | 18h |
| **S5** | 5æœˆ W1-2 | B+C | agents route + Story æ•°æ®æ¨¡å‹ | 20h |

### Phase 2: æ ¸å¿ƒå¢å¼º (Q2 2026, 6-8æœˆ)

| Sprint | å‘¨æ¬¡ | Epic | æ ¸å¿ƒä»»åŠ¡ | é¢„è®¡å·¥æ—¶ |
|--------|------|------|----------|----------|
| **S6** | 6æœˆ W1-2 | C | StoryManager + story å‘½ä»¤ç»„ | 18h |
| **S7** | 6æœˆ W3-4 | C | ProgressAnalyzer + ä¾èµ–å¯è§†åŒ– | 18h |
| **S8** | 7æœˆ W1-2 | G | æ–‡æ¡£æœç´¢å¼•æ“ | 16h |
| **S9** | 7æœˆ W3-4 | G | ä¸Šä¸‹æ–‡å¸®åŠ©é›†æˆ | 12h |
| **S10** | 8æœˆ | å›é¡¾ | H1 æŒ‡æ ‡è¯„ä¼° + H2 è§„åˆ’ | 8h |

### Phase 3: ä½“éªŒæ·±åŒ– (H2 2026)

| Epic | åŠŸèƒ½ | é¢„è®¡å·¥æ—¶ |
|------|------|----------|
| E | å·¥ä½œæµå¯è§†åŒ– + ç“¶é¢ˆæ£€æµ‹ | 45h |
| F | æ™ºèƒ½è¾…åŠ©å¢å¼º + å­¦ä¹ æ¨¡å¼ | 50h |

### Phase 4: ç”Ÿæ€æ‰©å±• (2027)

| Epic | åŠŸèƒ½ | é¢„è®¡å·¥æ—¶ |
|------|------|----------|
| H | ç¬¬ä¸‰æ–¹é›†æˆ (Jira, Linear, Slack) | 80h |
| I | ä¼ä¸šçº§åŠŸèƒ½ (å¤šé¡¹ç›®, RBAC, å®¡è®¡) | 90h |

---

## ä¾èµ–å…³ç³»

### Epic ä¾èµ–å›¾

```
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚   Epic D    â”‚
                    â”‚ é”™è¯¯å¤„ç†åŸºç¡€ â”‚
                    â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
                           â”‚
          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
          â–¼                â–¼                â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚  Epic A   â”‚    â”‚  Epic B   â”‚    â”‚  Epic C   â”‚
    â”‚ æ–°æ‰‹å¼•å¯¼  â”‚    â”‚ ä»£ç†é€æ˜åŒ–â”‚    â”‚Storyç®¡ç†  â”‚
    â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜
          â”‚                â”‚                â”‚
          â”‚    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
          â”‚    â–¼                       â–¼    â”‚
          â””â”€â”€â”€â–ºâ”‚      Epic G           â”‚â—„â”€â”€â”€â”˜
               â”‚    æ–‡æ¡£å¯å‘ç°æ€§        â”‚
               â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                           â”‚
          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
          â–¼                â–¼                â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚  Epic E   â”‚    â”‚  Epic F   â”‚    â”‚  (ç‹¬ç«‹)   â”‚
    â”‚ å·¥ä½œæµå¯è§†â”‚    â”‚ æ™ºèƒ½è¾…åŠ©  â”‚    â”‚           â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                           â”‚
                    â”Œâ”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”
                    â–¼             â–¼
              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
              â”‚  Epic H   â”‚ â”‚  Epic I   â”‚
              â”‚ é›†æˆæ‰©å±•  â”‚ â”‚ ä¼ä¸šåä½œ  â”‚
              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### å¹¶è¡Œå¼€å‘å¯èƒ½æ€§

| å¹¶è¡Œç»„ | Epic | ä¾èµ–æ¡ä»¶ |
|--------|------|----------|
| ç»„ 1 | A + B + C | D å®Œæˆåå¯å¹¶è¡Œ |
| ç»„ 2 | E + F | G å®Œæˆåå¯å¹¶è¡Œ |
| ç»„ 3 | H + I | æ‰€æœ‰ H1/H2 å®Œæˆå |

---

## å…³é”®æ–‡ä»¶æ¸…å•

### éœ€è¦æ–°å»ºçš„æ–‡ä»¶

| æ–‡ä»¶è·¯å¾„ | ç”¨é€” | Epic |
|----------|------|------|
| `.aios-core/core/errors/index.js` | é”™è¯¯å¤„ç†å…¥å£ | D |
| `.aios-core/core/errors/base-error.js` | AIOSError åŸºç±» | D |
| `.aios-core/core/errors/error-codes.yaml` | é”™è¯¯ä»£ç å®šä¹‰ | D |
| `.aios-core/core/errors/error-formatter.js` | é”™è¯¯æ ¼å¼åŒ– | D |
| `.aios-core/core/errors/recovery-engine.js` | æ¢å¤å»ºè®®å¼•æ“ | D |
| `.aios-core/core/onboarding/index.js` | æ–°æ‰‹å¼•å¯¼å…¥å£ | A |
| `.aios-core/core/onboarding/tour-manager.js` | å¼•å¯¼æµç¨‹ç®¡ç† | A |
| `.aios-core/core/agent-state/index.js` | ä»£ç†çŠ¶æ€å…¥å£ | B |
| `.aios-core/core/agent-state/state-manager.js` | çŠ¶æ€ç®¡ç† | B |
| `.aios-core/core/agent-state/router.js` | æ™ºèƒ½è·¯ç”± | B |
| `.aios-core/core/story-lifecycle/index.js` | Story ç®¡ç†å…¥å£ | C |
| `.aios-core/core/story-lifecycle/story-manager.js` | Story CRUD | C |
| `.aios-core/core/story-lifecycle/progress-analyzer.js` | è¿›åº¦åˆ†æ | C |

### éœ€è¦ä¿®æ”¹çš„æ–‡ä»¶

| æ–‡ä»¶è·¯å¾„ | ä¿®æ”¹å†…å®¹ | Epic |
|----------|----------|------|
| `.aios-core/cli/index.js` | æ³¨å†Œæ–°å‘½ä»¤ | å…¨éƒ¨ |
| `bin/aios.js` | é›†æˆé”™è¯¯å¤„ç† | D |
| `.aios-core/development/scripts/unified-activation-pipeline.js` | æ·»åŠ çŠ¶æ€å†™å…¥ | B |
| `.aios-core/core/health-check/index.js` | é›†æˆè¯Šæ–­ | D |

### å‚è€ƒæ–‡ä»¶ (å¤ç”¨æ¨¡å¼)

| æ–‡ä»¶è·¯å¾„ | å¤ç”¨å†…å®¹ | Epic |
|----------|----------|------|
| `bin/utils/install-errors.js` | é”™è¯¯æ¨¡æ¿æ¨¡å¼ | D |
| `.aios-core/core/config/config-resolver.js` | é…ç½®å­˜å‚¨æ¨¡å¼ | A, C |
| `.aios-core/core/ids/incremental-decision-engine.js` | å†³ç­–ç®—æ³• | B |
| `.aios-core/core/health-check/engine.js` | è¯Šæ–­æ‰§è¡Œ | D |

---

## æˆåŠŸæŒ‡æ ‡

### Horizon 1 (H1 2026)

| æŒ‡æ ‡ | åŸºçº¿ | Q2 ç›®æ ‡ | H1 ç›®æ ‡ | æµ‹é‡æ–¹æ³• |
|------|------|---------|---------|----------|
| æ–°ç”¨æˆ· 7 æ—¥ç•™å­˜ç‡ | <20% | >40% | >50% | åˆ†æç³»ç»Ÿ |
| é¦–æ¬¡åŠŸèƒ½ä½¿ç”¨æ—¶é—´ | >30min | <10min | <5min | å¼•å¯¼å®Œæˆæ—¶é—´ |
| é”™è¯¯è‡ªåŠ©è§£å†³ç‡ | <40% | >60% | >70% | doctor æˆåŠŸç‡ |
| Story åˆ›å»ºæ—¶é—´ | >30min | <20min | <15min | å‘½ä»¤æ—¶é—´æˆ³ |
| ä»£ç†é€‰æ‹©å‡†ç¡®ç‡ | N/A | >80% | >90% | route é‡‡çº³ç‡ |

### Horizon 2 (H2 2026)

| æŒ‡æ ‡ | åŸºçº¿ | ç›®æ ‡ | æµ‹é‡æ–¹æ³• |
|------|------|------|----------|
| ç”¨æˆ·æ»¡æ„åº¦ (NPS) | N/A | >40 | ç”¨æˆ·è°ƒç ” |
| æµç¨‹å¯è§æ€§è¯„åˆ† | N/A | >4.5/5 | ç”¨æˆ·è°ƒç ” |
| å»ºè®®é‡‡çº³ç‡ | N/A | >40% | suggest ç»Ÿè®¡ |
| æ–‡æ¡£æŸ¥æ‰¾æ—¶é—´ | >2min | <30s | æœç´¢æ—¥å¿— |

### Horizon 3 (2027)

| æŒ‡æ ‡ | åŸºçº¿ | ç›®æ ‡ | æµ‹é‡æ–¹æ³• |
|------|------|------|----------|
| ä¼ä¸šå®¢æˆ·æ•° | 0 | >10 | é”€å”®è®°å½• |
| å®˜æ–¹é›†æˆæ•° | 0 | >10 | é›†æˆç›®å½• |
| ç¤¾åŒºæ’ä»¶æ•° | 0 | >50 | æ’ä»¶å¸‚åœº |
| API è°ƒç”¨ QPS | 0 | >1000 | ç›‘æ§ç³»ç»Ÿ |

---

## é£é™©è¯„ä¼°ä¸ç¼“è§£

### æŠ€æœ¯é£é™©

| é£é™© | å¯èƒ½æ€§ | å½±å“ | ç¼“è§£æªæ–½ |
|------|--------|------|----------|
| ä¸ç°æœ‰ä»£ç å†²çª | ä¸­ | é«˜ | æ¸è¿›å¼è¿ç§»ï¼Œä¿æŒå‘åå…¼å®¹ |
| æ€§èƒ½ä¸‹é™ | ä½ | ä¸­ | å¤ç”¨ç°æœ‰ç¼“å­˜ç³»ç»Ÿï¼Œæ€§èƒ½æµ‹è¯• |
| CLI å‘½ä»¤è†¨èƒ€ | ä¸­ | ä¸­ | å‘½ä»¤åˆ†ç»„ï¼Œæ™ºèƒ½å‘½ä»¤å‘ç° |
| ä»£ç†çŠ¶æ€ä¸¢å¤± | ä½ | é«˜ | å¤šé‡å­˜å‚¨ç­–ç•¥ï¼ŒçŠ¶æ€æ¢å¤æœºåˆ¶ |

### äº§å“é£é™©

| é£é™© | å¯èƒ½æ€§ | å½±å“ | ç¼“è§£æªæ–½ |
|------|--------|------|----------|
| åŠŸèƒ½æœªè¢«é‡‡ç”¨ | ä¸­ | é«˜ | ç”¨æˆ·æµ‹è¯•ï¼Œå¿«é€Ÿè¿­ä»£ |
| å¼•å¯¼è¿‡äºå†—é•¿ | ä¸­ | ä¸­ | basic/advanced æ¨¡å¼ï¼Œæ¸è¿›æ­ç¤º |
| é”™è¯¯ä¿¡æ¯è¿‡äºç®€å• | ä½ | ä¸­ | å¯é…ç½®è¯¦ç»†ç¨‹åº¦ |
| Story èŒƒå›´è”“å»¶ | é«˜ | ä¸­ | ä¸¥æ ¼ Story éªŒè¯é—¨æ§ |

### ç»„ç»‡é£é™©

| é£é™© | å¯èƒ½æ€§ | å½±å“ | ç¼“è§£æªæ–½ |
|------|--------|------|----------|
| å¼€å‘èµ„æºä¸è¶³ | ä¸­ | é«˜ | ä¼˜å…ˆçº§æ’åºï¼ŒMVP å®šä¹‰ |
| éœ€æ±‚å˜æ›´é¢‘ç¹ | ä¸­ | ä¸­ | æ•æ·è¿­ä»£ï¼Œå¿«é€Ÿå“åº” |

---

## éªŒè¯æ–¹æ³•

### å•å…ƒæµ‹è¯•

```bash
# è¿è¡Œæµ‹è¯•
npm test -- --coverage

# ç›®æ ‡: æ–°ä»£ç è¦†ç›–ç‡ >80%
```

### é›†æˆæµ‹è¯•

```bash
# é”™è¯¯å¤„ç†
aios doctor --full              # å®Œæ•´è¯Šæ–­
aios diagnose CFG_001           # è¯Šæ–­ç‰¹å®šé”™è¯¯
aios doctor --fix               # è‡ªåŠ¨ä¿®å¤

# æ–°æ‰‹å¼•å¯¼
aios quickstart                 # å¿«é€Ÿå¼€å§‹
aios tour --reset               # é‡ç½®å¼•å¯¼

# ä»£ç†çŠ¶æ€
aios agents status              # æ‰€æœ‰ä»£ç†çŠ¶æ€
aios agents route "implement login"  # æ™ºèƒ½è·¯ç”±

# Story ç®¡ç†
aios story list                 # Story åˆ—è¡¨
aios story create --template=feature  # åˆ›å»º Story
aios story progress STORY-42    # è¿›åº¦åˆ†æ
```

### ç«¯åˆ°ç«¯éªŒè¯

1. **æ–°ç”¨æˆ·æµç¨‹:**
   ```
   npx aios-core install â†’ aios quickstart â†’ 5åˆ†é’Ÿå®Œæˆ â†’ æˆåŠŸåˆ›å»ºç¬¬ä¸€ä¸ª Story
   ```

2. **é”™è¯¯æ¢å¤æµç¨‹:**
   ```
   é‡åˆ°é”™è¯¯ â†’ aios diagnose â†’ è·å¾—ä¿®å¤å»ºè®® â†’ aios doctor --fix â†’ é—®é¢˜è§£å†³
   ```

3. **åä½œæµç¨‹:**
   ```
   aios agents route "ä»»åŠ¡" â†’ è·å¾—ä»£ç†æ¨è â†’ æ¿€æ´»ä»£ç† â†’ å®Œæˆä»»åŠ¡ â†’ äº¤æ¥
   ```

---

## ä¸‹ä¸€æ­¥è¡ŒåŠ¨

### ç«‹å³è¡ŒåŠ¨ (æœ¬å‘¨)

1. **åˆ›å»º Story æ–‡æ¡£**
   ```
   docs/stories/active/STORY-OPT-001/
   â””â”€â”€ story.md - Epic D: é”™è¯¯å¤„ç†ä¼˜åŒ–
   ```

2. **åˆ›å»ºå¼€å‘åˆ†æ”¯**
   ```bash
   git checkout -b feat/error-handling-enhancement
   ```

3. **å¼€å§‹ D1.1 ä»»åŠ¡**
   - åˆ›å»º `.aios-core/core/errors/` ç›®å½•
   - å®ç° `base-error.js`

### çŸ­æœŸè§„åˆ’ (æœ¬æœˆ)

1. å®Œæˆ Sprint 1 ä»»åŠ¡ (D1.1 - D1.5)
2. å»ºç«‹æŒ‡æ ‡è¿½è¸ªåŸºçº¿
3. è®¾ç½® CI/CD æµ‹è¯•é—¨ç¦

### ä¸­æœŸè§„åˆ’ (æœ¬å­£åº¦)

1. å®Œæˆ Phase 1 (Epic D åŸºç¡€ + Epic A å¯åŠ¨)
2. å»ºç«‹ç”¨æˆ·åé¦ˆå¾ªç¯
3. è§„åˆ’ Phase 2 è¯¦ç»†ä»»åŠ¡

---

## ç›¸å…³æ–‡æ¡£

- [åŠŸèƒ½è¿­ä»£è§„åˆ’](åŠŸèƒ½è¿­ä»£è§„åˆ’.md) - åŸå§‹äº§å“è§„åˆ’
- [Constitution](../.aios-core/constitution.md) - æ¡†æ¶å®ªæ³•
- [Architecture](architecture/ARCHITECTURE-INDEX.md) - æ¶æ„æ–‡æ¡£
- [User Guide](guides/user-guide.md) - ç”¨æˆ·æŒ‡å—

---

**æ–‡æ¡£æ‰€æœ‰è€…:** @pm (Morgan)
**æŠ€æœ¯å®¡æ ¸:** @architect (Aria)
**æ›´æ–°é¢‘ç‡:** æ¯æœˆå®¡æŸ¥
**ç‰ˆæœ¬:** v1.0
**æœ€åæ›´æ–°:** 2026-02-20

---

_è®© AI ä»£ç†ååŒå·¥ä½œï¼Œå®ç°è‡ªä¸»åŒ–è½¯ä»¶å¼€å‘_
