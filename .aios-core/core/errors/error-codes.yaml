# AIOS Error Codes Definition
# Version: 2.0.0
# Last Updated: 2026-02-24
#
# This file defines all error codes used in AIOS.
# Each error code includes:
# - code: Unique identifier (e.g., CFG_001)
# - category: Error category for classification
# - severity: CRITICAL | ERROR | WARNING | INFO
# - message: Technical error message (supports {variable} interpolation)
# - userMessage: User-friendly message (supports {variable} interpolation)
# - recoverable: Whether the error can be recovered from
# - recoverySteps: List of steps to resolve the error
# - docUrl: Optional URL to documentation

metadata:
  version: "2.0.0"
  lastUpdated: "2026-02-24"
  description: "AIOS Error Codes Definition File - Extended Edition"

# Error Categories
categories:
  CFG:
    name: "Configuration"
    description: "Configuration related errors"
    prefix: "CFG"
  AGT:
    name: "Agent"
    description: "Agent related errors"
    prefix: "AGT"
  STR:
    name: "Story"
    description: "Story management errors"
    prefix: "STR"
  SYS:
    name: "System"
    description: "System-level errors"
    prefix: "SYS"
  IDS:
    name: "IDS"
    description: "Incremental Decision System errors"
    prefix: "IDS"
  FIL:
    name: "File"
    description: "File operation errors"
    prefix: "FIL"
  GIT:
    name: "Git"
    description: "Git operation errors"
    prefix: "GIT"
  NET:
    name: "Network"
    description: "Network and API errors"
    prefix: "NET"
  VAL:
    name: "Validation"
    description: "Input validation errors"
    prefix: "VAL"
  PRJ:
    name: "Project"
    description: "Project management errors"
    prefix: "PRJ"
  GEN:
    name: "General"
    description: "General errors"
    prefix: "GEN"
  BLD:
    name: "Build"
    description: "Build process errors"
    prefix: "BLD"

# Error Code Definitions
codes:
  # ===========================================
  # CONFIGURATION ERRORS (CFG_xxx)
  # ===========================================

  CFG_001:
    code: "CFG_001"
    category: "CONFIG"
    severity: "ERROR"
    message: "Configuration file not found"
    userMessage: "Configuration file not found"
    recoverable: true
    recoverySteps:
      - "Run 'aios config init' to create default configuration"
      - "Check if the configuration file path is correct"
      - "Verify the file has not been accidentally deleted"
    docUrl: "https://docs.aios.dev/errors/CFG_001"

  CFG_002:
    code: "CFG_002"
    category: "CONFIG"
    severity: "ERROR"
    message: "Invalid configuration value for {field}"
    userMessage: "Invalid configuration value for field '{field}'"
    recoverable: true
    recoverySteps:
      - "Check the value of field '{field}' in configuration"
      - "Refer to documentation for valid values"
      - "Run 'aios config validate' to check all configuration"
    docUrl: "https://docs.aios.dev/errors/CFG_002"

  CFG_003:
    code: "CFG_003"
    category: "CONFIG"
    severity: "ERROR"
    message: "Configuration parse error in {file}"
    userMessage: "Failed to parse configuration file '{file}'"
    recoverable: true
    recoverySteps:
      - "Check YAML/JSON syntax in '{file}'"
      - "Use a YAML/JSON linter to validate the file"
      - "Compare with default configuration template"
    docUrl: "https://docs.aios.dev/errors/CFG_003"

  CFG_004:
    code: "CFG_004"
    category: "CONFIG"
    severity: "WARNING"
    message: "Missing recommended configuration: {field}"
    userMessage: "Recommended configuration field '{field}' is missing"
    recoverable: true
    recoverySteps:
      - "Consider adding '{field}' to your configuration"
      - "Run 'aios config init' to see all available options"
    docUrl: "https://docs.aios.dev/errors/CFG_004"

  # ===========================================
  # AGENT ERRORS (AGT_xxx)
  # ===========================================

  AGT_001:
    code: "AGT_001"
    category: "AGENT"
    severity: "ERROR"
    message: "Agent '{agentName}' not found"
    userMessage: "Agent '{agentName}' does not exist"
    recoverable: false
    recoverySteps:
      - "Check the agent name spelling"
      - "Run 'aios agents list' to see available agents"
      - "Check if the agent has been properly installed"
    docUrl: "https://docs.aios.dev/errors/AGT_001"

  AGT_002:
    code: "AGT_002"
    category: "AGENT"
    severity: "ERROR"
    message: "Agent '{agentName}' activation failed: {reason}"
    userMessage: "Failed to activate agent '{agentName}'"
    recoverable: true
    recoverySteps:
      - "Check the error reason: {reason}"
      - "Verify agent configuration is valid"
      - "Try reactivating the agent"
      - "Check AIOS logs for detailed error information"
    docUrl: "https://docs.aios.dev/errors/AGT_002"

  AGT_003:
    code: "AGT_003"
    category: "AGENT"
    severity: "WARNING"
    message: "Agent '{agentName}' task timeout after {seconds}s"
    userMessage: "Agent '{agentName}' task took too long and was stopped"
    recoverable: true
    recoverySteps:
      - "Increase task timeout in configuration"
      - "Check if the task is stuck"
      - "Try running the task again"
    docUrl: "https://docs.aios.dev/errors/AGT_003"

  # ===========================================
  # STORY ERRORS (STR_xxx)
  # ===========================================

  STR_001:
    code: "STR_001"
    category: "STORY"
    severity: "ERROR"
    message: "Story '{storyId}' not found"
    userMessage: "Story '{storyId}' does not exist"
    recoverable: false
    recoverySteps:
      - "Check the story ID is correct"
      - "Run 'aios stories list' to see available stories"
      - "Create the story if it doesn't exist"
    docUrl: "https://docs.aios.dev/errors/STR_001"

  STR_002:
    code: "STR_002"
    category: "STORY"
    severity: "ERROR"
    message: "Invalid story status transition from {from} to {to}"
    userMessage: "Cannot change story status from '{from}' to '{to}'"
    recoverable: true
    recoverySteps:
      - "Check valid status transitions"
      - "Ensure the story is in the expected state"
      - "Use 'aios story status' to check current status"
    docUrl: "https://docs.aios.dev/errors/STR_002"

  STR_003:
    code: "STR_003"
    category: "STORY"
    severity: "WARNING"
    message: "Story '{storyId}' has incomplete tasks"
    userMessage: "Story '{storyId}' still has tasks to complete"
    recoverable: true
    recoverySteps:
      - "Complete remaining tasks before marking story as done"
      - "Use 'aios story tasks' to see pending tasks"
    docUrl: "https://docs.aios.dev/errors/STR_003"

  # ===========================================
  # SYSTEM ERRORS (SYS_xxx)
  # ===========================================

  SYS_001:
    code: "SYS_001"
    category: "SYSTEM"
    severity: "CRITICAL"
    message: "System resource exhausted: {resource}"
    userMessage: "System ran out of {resource}"
    recoverable: false
    recoverySteps:
      - "Free up system resources"
      - "Close unnecessary applications"
      - "Restart AIOS"
    docUrl: "https://docs.aios.dev/errors/SYS_001"

  SYS_002:
    code: "SYS_002"
    category: "SYSTEM"
    severity: "ERROR"
    message: "Permission denied for {operation}"
    userMessage: "Not authorized to perform '{operation}'"
    recoverable: true
    recoverySteps:
      - "Check file/directory permissions"
      - "Run with appropriate privileges if needed"
      - "Ensure you have access to the resource"
    docUrl: "https://docs.aios.dev/errors/SYS_002"

  SYS_003:
    code: "SYS_003"
    category: "SYSTEM"
    severity: "ERROR"
    message: "AIOS installation corrupted: {component}"
    userMessage: "AIOS installation is corrupted"
    recoverable: true
    recoverySteps:
      - "Run 'aios doctor' to diagnose issues"
      - "Reinstall AIOS if necessary"
      - "Check {component} for missing files"
    docUrl: "https://docs.aios.dev/errors/SYS_003"

  # ===========================================
  # IDS ERRORS (IDS_xxx)
  # ===========================================

  IDS_001:
    code: "IDS_001"
    category: "IDS"
    severity: "ERROR"
    message: "Decision conflict detected for {entity}"
    userMessage: "Conflicting decisions found for '{entity}'"
    recoverable: true
    recoverySteps:
      - "Review existing decisions for '{entity}'"
      - "Resolve conflicts manually"
      - "Run 'aios ids validate' to check for conflicts"
    docUrl: "https://docs.aios.dev/errors/IDS_001"

  IDS_002:
    code: "IDS_002"
    category: "IDS"
    severity: "WARNING"
    message: "Decision threshold exceeded for {metric}"
    userMessage: "Decision threshold exceeded for '{metric}'"
    recoverable: true
    recoverySteps:
      - "Review decisions that triggered this threshold"
      - "Adjust threshold if appropriate"
      - "Check if behavior is expected"
    docUrl: "https://docs.aios.dev/errors/IDS_002"

  IDS_003:
    code: "IDS_003"
    category: "IDS"
    severity: "ERROR"
    message: "IDS registry corruption detected"
    userMessage: "Decision registry is corrupted"
    recoverable: true
    recoverySteps:
      - "Run 'aios ids heal' to attempt automatic repair"
      - "Check registry file for corruption"
      - "Restore from backup if available"
    docUrl: "https://docs.aios.dev/errors/IDS_003"

  IDS_004:
    code: "IDS_004"
    category: "IDS"
    severity: "ERROR"
    message: "Failed to load IDS registry: {reason}"
    userMessage: "Could not load the decision registry"
    recoverable: true
    recoverySteps:
      - "Check if the registry file exists and is readable"
      - "Verify YAML syntax is valid"
      - "Check file permissions"
    docUrl: "https://docs.aios.dev/errors/IDS_004"

  IDS_005:
    code: "IDS_005"
    category: "IDS"
    severity: "ERROR"
    message: "Failed to retrieve entities from registry: {reason}"
    userMessage: "Could not retrieve entities from the decision registry"
    recoverable: true
    recoverySteps:
      - "Verify registry structure is valid"
      - "Check for corrupted entity data"
      - "Run 'aios ids validate' to diagnose issues"
    docUrl: "https://docs.aios.dev/errors/IDS_005"

  IDS_006:
    code: "IDS_006"
    category: "IDS"
    severity: "ERROR"
    message: "Failed to write IDS registry: {reason}"
    userMessage: "Could not save changes to the decision registry"
    recoverable: true
    recoverySteps:
      - "Check file write permissions"
      - "Verify disk space is available"
      - "Ensure no other process is locking the file"
    docUrl: "https://docs.aios.dev/errors/IDS_006"

  IDS_007:
    code: "IDS_007"
    category: "IDS"
    severity: "ERROR"
    message: "Could not acquire registry lock: {reason}"
    userMessage: "Registry is busy or locked by another process"
    recoverable: true
    recoverySteps:
      - "Wait a moment and try again"
      - "Check for other AIOS processes"
      - "Remove stale lock file if present"
    docUrl: "https://docs.aios.dev/errors/IDS_007"

  IDS_008:
    code: "IDS_008"
    category: "IDS"
    severity: "ERROR"
    message: "Failed to create registry backup: {reason}"
    userMessage: "Could not create backup before modification"
    recoverable: true
    recoverySteps:
      - "Check backup directory permissions"
      - "Verify disk space is available"
      - "Try manual backup"
    docUrl: "https://docs.aios.dev/errors/IDS_008"

  IDS_009:
    code: "IDS_009"
    category: "IDS"
    severity: "ERROR"
    message: "Registry backup not found: {batchId}"
    userMessage: "Requested backup does not exist"
    recoverable: true
    recoverySteps:
      - "Check if backup ID is correct"
      - "List available backups with 'aios ids backups'"
      - "Create a new backup if needed"
    docUrl: "https://docs.aios.dev/errors/IDS_009"

  IDS_010:
    code: "IDS_010"
    category: "IDS"
    severity: "ERROR"
    message: "Registry rollback failed: {reason}"
    userMessage: "Could not restore registry from backup"
    recoverable: true
    recoverySteps:
      - "Check if backup file is valid"
      - "Verify file permissions"
      - "Try manual restore"
    docUrl: "https://docs.aios.dev/errors/IDS_010"

  # ===========================================
  # SESSION ERRORS (SES_xxx)
  # ===========================================

  SES_001:
    code: "SES_001"
    category: "SESSION"
    severity: "ERROR"
    message: "No active session found"
    userMessage: "No active session exists"
    recoverable: true
    recoverySteps:
      - "Create a new session first"
      - "Check if session was already closed"
    docUrl: "https://docs.aios.dev/errors/SES_001"

  SES_002:
    code: "SES_002"
    category: "SESSION"
    severity: "ERROR"
    message: "Session not found: {sessionId}"
    userMessage: "The requested session does not exist"
    recoverable: true
    recoverySteps:
      - "Check if session ID is correct"
      - "List available sessions"
      - "Create a new session if needed"
    docUrl: "https://docs.aios.dev/errors/SES_002"

  SES_003:
    code: "SES_003"
    category: "SESSION"
    severity: "ERROR"
    message: "Unsupported export format: {format}"
    userMessage: "The requested export format is not supported"
    recoverable: true
    recoverySteps:
      - "Use a supported format (json, yaml, markdown)"
      - "Check documentation for available formats"
    docUrl: "https://docs.aios.dev/errors/SES_003"

  # ===========================================
  # GENERAL ERRORS (GEN_xxx)
  # ===========================================

  GEN_001:
    code: "GEN_001"
    category: "GENERAL"
    severity: "ERROR"
    message: "Unknown error occurred"
    userMessage: "An unexpected error occurred"
    recoverable: false
    recoverySteps:
      - "Try the operation again"
      - "Check AIOS logs for details"
      - "Report the issue if problem persists"
    docUrl: null

  GEN_002:
    code: "GEN_002"
    category: "GENERAL"
    severity: "ERROR"
    message: "Operation cancelled by user"
    userMessage: "Operation was cancelled"
    recoverable: true
    recoverySteps:
      - "Retry the operation if needed"
    docUrl: null

  GEN_003:
    code: "GEN_003"
    category: "GENERAL"
    severity: "WARNING"
    message: "Feature {feature} is not implemented yet"
    userMessage: "This feature is coming soon"
    recoverable: false
    recoverySteps:
      - "Check the roadmap for planned release"
      - "Use alternative methods if available"
    docUrl: null

  # ===========================================
  # FILE ERRORS (FIL_xxx)
  # ===========================================

  FIL_001:
    code: "FIL_001"
    category: "FILE"
    severity: "ERROR"
    message: "File not found: {path}"
    userMessage: "File '{path}' does not exist"
    recoverable: true
    recoverySteps:
      - "Check if the file path is correct"
      - "Verify the file has not been moved or deleted"
      - "Create the file if it should exist"
    docUrl: "https://docs.aios.dev/errors/FIL_001"

  FIL_002:
    code: "FIL_002"
    category: "FILE"
    severity: "ERROR"
    message: "Cannot read file: {path}"
    userMessage: "Failed to read file '{path}'"
    recoverable: true
    recoverySteps:
      - "Check file permissions"
      - "Verify the file is not corrupted"
      - "Ensure the file is not locked by another process"
    docUrl: "https://docs.aios.dev/errors/FIL_002"

  FIL_003:
    code: "FIL_003"
    category: "FILE"
    severity: "ERROR"
    message: "Cannot write file: {path}"
    userMessage: "Failed to write to file '{path}'"
    recoverable: true
    recoverySteps:
      - "Check file permissions"
      - "Verify disk space is available"
      - "Ensure parent directory exists"
    docUrl: "https://docs.aios.dev/errors/FIL_003"

  FIL_004:
    code: "FIL_004"
    category: "FILE"
    severity: "ERROR"
    message: "Directory not found: {path}"
    userMessage: "Directory '{path}' does not exist"
    recoverable: true
    recoverySteps:
      - "Create the directory with 'mkdir -p {path}'"
      - "Check if the path is correct"
    docUrl: "https://docs.aios.dev/errors/FIL_004"

  FIL_005:
    code: "FIL_005"
    category: "FILE"
    severity: "ERROR"
    message: "Invalid file format: {format}"
    userMessage: "File format '{format}' is not supported"
    recoverable: true
    recoverySteps:
      - "Use a supported file format"
      - "Convert the file to a supported format"
    docUrl: "https://docs.aios.dev/errors/FIL_005"

  # ===========================================
  # GIT ERRORS (GIT_xxx)
  # ===========================================

  GIT_001:
    code: "GIT_001"
    category: "GIT"
    severity: "ERROR"
    message: "Not a git repository"
    userMessage: "This directory is not a git repository"
    recoverable: true
    recoverySteps:
      - "Run 'git init' to initialize a repository"
      - "Navigate to a directory that contains a git repository"
    docUrl: "https://docs.aios.dev/errors/GIT_001"

  GIT_002:
    code: "GIT_002"
    category: "GIT"
    severity: "ERROR"
    message: "Git merge conflict in {files}"
    userMessage: "Merge conflicts detected"
    recoverable: true
    recoverySteps:
      - "Resolve conflicts in the affected files"
      - "Run 'git add' on resolved files"
      - "Complete the merge with 'git commit'"
    docUrl: "https://docs.aios.dev/errors/GIT_002"

  GIT_003:
    code: "GIT_003"
    category: "GIT"
    severity: "ERROR"
    message: "Git push rejected: {reason}"
    userMessage: "Push was rejected by remote"
    recoverable: true
    recoverySteps:
      - "Pull latest changes with 'git pull'"
      - "Resolve any conflicts"
      - "Try pushing again"
    docUrl: "https://docs.aios.dev/errors/GIT_003"

  GIT_004:
    code: "GIT_004"
    category: "GIT"
    severity: "WARNING"
    message: "Uncommitted changes detected"
    userMessage: "You have uncommitted changes"
    recoverable: true
    recoverySteps:
      - "Commit your changes first"
      - "Or stash them with 'git stash'"
    docUrl: "https://docs.aios.dev/errors/GIT_004"

  GIT_005:
    code: "GIT_005"
    category: "GIT"
    severity: "ERROR"
    message: "Branch {branch} not found"
    userMessage: "Branch '{branch}' does not exist"
    recoverable: true
    recoverySteps:
      - "Check branch name spelling"
      - "Run 'git branch -a' to list all branches"
      - "Create the branch if needed"
    docUrl: "https://docs.aios.dev/errors/GIT_005"

  # ===========================================
  # NETWORK ERRORS (NET_xxx)
  # ===========================================

  NET_001:
    code: "NET_001"
    category: "NETWORK"
    severity: "ERROR"
    message: "Network request failed: {url}"
    userMessage: "Failed to connect to {url}"
    recoverable: true
    recoverySteps:
      - "Check your internet connection"
      - "Verify the URL is correct"
      - "Try again later"
    docUrl: "https://docs.aios.dev/errors/NET_001"

  NET_002:
    code: "NET_002"
    category: "NETWORK"
    severity: "ERROR"
    message: "API rate limit exceeded"
    userMessage: "Too many requests, please wait"
    recoverable: true
    recoverySteps:
      - "Wait a few minutes before retrying"
      - "Consider reducing request frequency"
    docUrl: "https://docs.aios.dev/errors/NET_002"

  NET_003:
    code: "NET_003"
    category: "NETWORK"
    severity: "ERROR"
    message: "Authentication failed for {service}"
    userMessage: "Failed to authenticate with {service}"
    recoverable: true
    recoverySteps:
      - "Check your credentials"
      - "Verify API keys are valid"
      - "Run authentication setup again"
    docUrl: "https://docs.aios.dev/errors/NET_003"

  NET_004:
    code: "NET_004"
    category: "NETWORK"
    severity: "ERROR"
    message: "Request timeout after {seconds}s"
    userMessage: "Request took too long"
    recoverable: true
    recoverySteps:
      - "Check your network connection"
      - "Try again with a simpler request"
      - "Increase timeout if needed"
    docUrl: "https://docs.aios.dev/errors/NET_004"

  # ===========================================
  # VALIDATION ERRORS (VAL_xxx)
  # ===========================================

  VAL_001:
    code: "VAL_001"
    category: "VALIDATION"
    severity: "ERROR"
    message: "Invalid input: {field} - {reason}"
    userMessage: "Invalid value for '{field}'"
    recoverable: true
    recoverySteps:
      - "Check the value of '{field}'"
      - "Refer to documentation for valid values"
    docUrl: "https://docs.aios.dev/errors/VAL_001"

  VAL_002:
    code: "VAL_002"
    category: "VALIDATION"
    severity: "ERROR"
    message: "Required field missing: {field}"
    userMessage: "Field '{field}' is required"
    recoverable: true
    recoverySteps:
      - "Provide a value for '{field}'"
      - "Check required fields in documentation"
    docUrl: "https://docs.aios.dev/errors/VAL_002"

  VAL_003:
    code: "VAL_003"
    category: "VALIDATION"
    severity: "ERROR"
    message: "Value out of range: {field} must be between {min} and {max}"
    userMessage: "Value for '{field}' is out of valid range"
    recoverable: true
    recoverySteps:
      - "Use a value between {min} and {max}"
    docUrl: "https://docs.aios.dev/errors/VAL_003"

  VAL_004:
    code: "VAL_004"
    category: "VALIDATION"
    severity: "ERROR"
    message: "Invalid type for {field}: expected {expected}, got {actual}"
    userMessage: "Wrong type for '{field}'"
    recoverable: true
    recoverySteps:
      - "Provide a value of type {expected}"
    docUrl: "https://docs.aios.dev/errors/VAL_004"

  VAL_005:
    code: "VAL_005"
    category: "VALIDATION"
    severity: "ERROR"
    message: "Duplicate value: {field} must be unique"
    userMessage: "Value for '{field}' already exists"
    recoverable: true
    recoverySteps:
      - "Use a different value"
      - "Update existing record instead"
    docUrl: "https://docs.aios.dev/errors/VAL_005"

  # ===========================================
  # PROJECT ERRORS (PRJ_xxx)
  # ===========================================

  PRJ_001:
    code: "PRJ_001"
    category: "PROJECT"
    severity: "ERROR"
    message: "Project not initialized"
    userMessage: "This project has not been initialized"
    recoverable: true
    recoverySteps:
      - "Run 'aios init' to initialize the project"
      - "Or navigate to an initialized project"
    docUrl: "https://docs.aios.dev/errors/PRJ_001"

  PRJ_002:
    code: "PRJ_002"
    category: "PROJECT"
    severity: "ERROR"
    message: "Project version mismatch: expected {expected}, found {actual}"
    userMessage: "Project version is incompatible"
    recoverable: true
    recoverySteps:
      - "Update AIOS to the latest version"
      - "Or migrate the project to current version"
    docUrl: "https://docs.aios.dev/errors/PRJ_002"

  PRJ_003:
    code: "PRJ_003"
    category: "PROJECT"
    severity: "WARNING"
    message: "Project has {count} warnings"
    userMessage: "Project has some issues that should be addressed"
    recoverable: true
    recoverySteps:
      - "Run 'aios doctor' for details"
      - "Fix warnings to ensure optimal performance"
    docUrl: "https://docs.aios.dev/errors/PRJ_003"

  PRJ_004:
    code: "PRJ_004"
    category: "PROJECT"
    severity: "ERROR"
    message: "Dependency {name} not found"
    userMessage: "Required dependency '{name}' is missing"
    recoverable: true
    recoverySteps:
      - "Install the dependency"
      - "Run 'npm install' or equivalent"
    docUrl: "https://docs.aios.dev/errors/PRJ_004"

  PRJ_005:
    code: "PRJ_005"
    category: "PROJECT"
    severity: "ERROR"
    message: "Module {module} failed to load: {reason}"
    userMessage: "Failed to load module '{module}'"
    recoverable: true
    recoverySteps:
      - "Check if the module is installed"
      - "Verify module compatibility"
      - "Check for syntax errors in module"
    docUrl: "https://docs.aios.dev/errors/PRJ_005"

  # ===========================================
  # BUILD ERRORS (BLD_xxx)
  # ===========================================

  BLD_001:
    code: "BLD_001"
    category: "BUILD"
    severity: "ERROR"
    message: "Build state not found for {storyId}"
    userMessage: "No build state found for story '{storyId}'"
    recoverable: true
    recoverySteps:
      - "Create a new build state with 'aios build create'"
      - "Check if the story ID is correct"
    docUrl: "https://docs.aios.dev/errors/BLD_001"

  BLD_002:
    code: "BLD_002"
    category: "BUILD"
    severity: "ERROR"
    message: "Build already completed"
    userMessage: "This build has already been completed"
    recoverable: false
    recoverySteps:
      - "Start a new build if needed"
      - "Check build status with 'aios build status'"
    docUrl: "https://docs.aios.dev/errors/BLD_002"

  BLD_003:
    code: "BLD_003"
    category: "BUILD"
    severity: "ERROR"
    message: "Build state not loaded"
    userMessage: "Build state has not been loaded"
    recoverable: true
    recoverySteps:
      - "Call loadState() or createState() first"
      - "Check if the build state file exists"
    docUrl: "https://docs.aios.dev/errors/BLD_003"

  BLD_004:
    code: "BLD_004"
    category: "BUILD"
    severity: "ERROR"
    message: "Invalid build state: {errors}"
    userMessage: "Build state is invalid"
    recoverable: true
    recoverySteps:
      - "Check build state file for corruption"
      - "Delete and recreate the build state"
    docUrl: "https://docs.aios.dev/errors/BLD_004"

  BLD_005:
    code: "BLD_005"
    category: "BUILD"
    severity: "ERROR"
    message: "Failed to load build state: {reason}"
    userMessage: "Could not load build state"
    recoverable: true
    recoverySteps:
      - "Check if the state file exists and is readable"
      - "Verify JSON format is valid"
      - "Delete corrupted state and start fresh"
    docUrl: "https://docs.aios.dev/errors/BLD_005"

  BLD_006:
    code: "BLD_006"
    category: "BUILD"
    severity: "WARNING"
    message: "Build abandoned: {reason}"
    userMessage: "Build was abandoned due to inactivity"
    recoverable: true
    recoverySteps:
      - "Resume the build with 'aios build resume'"
      - "Start a fresh build if needed"
    docUrl: "https://docs.aios.dev/errors/BLD_006"
